[maxscale]
threads=auto
admin_host=0.0.0.0
admin_secure_gui=false

[Replication-Monitor]
type=monitor
module=mariadbmon
servers=server1,server2,server3
replication_password=replpass
replication_user=repl
user=maxscaleuser
password=maxscalepassword
monitor_interval=2s
auto_failover=1
auto_rejoin=true
failover_timeout=10s
master_failure_timeout=10s
switchover_timeout=90s

[server1]
type=server
address=192.168.186.112
port=3306
protocol=MariaDBBackend

[server2]
type=server
address=192.168.186.114
port=3306
protocol=MariaDBBackend

[server3]
type=server
address=192.168.186.115
port=3306
protocol=MariaDBBackend

[Read-Write-Service]
type=service
router=readwritesplit
servers=server1
user=maxscaleuser
password=maxscalepassword

[Read-Only-Service]
type=service
router=readconnroute
servers=server1,server2,server3
user=maxscaleuser
password=maxscalepassword
router_options=slave



[Read-Write-Listener]
type=listener
service=Read-Write-Service
protocol=MariaDBClient
port=4006



[Read-Only-Listener]
type=listener
service=Read-Only-Service
protocol=MariaDBClient
port=4007


